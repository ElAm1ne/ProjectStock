/*
 Highmaps JS v10.3.2 (2022-11-28)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(x){b(x);b.Highcharts=x;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function x(b,k,p,f){b.hasOwnProperty(k)||(b[k]=f.apply(null,p),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:k,module:b[k]}})))}b=b?b._modules:{};x(b,"Core/Axis/Color/ColorAxisComposition.js",
[b["Core/Color/Color.js"],b["Core/Utilities.js"]],function(b,k){var p=b.parse,f=k.addEvent,n=k.extend,c=k.merge,l=k.pick,K=k.splat,q;(function(g){function q(){var h=this,a=this.options;this.colorAxis=[];a.colorAxis&&(a.colorAxis=K(a.colorAxis),a.colorAxis.forEach(function(a,d){a.index=d;new y(h,a)}))}function a(h){var a=this,d=function(d){d=h.allItems.indexOf(d);-1!==d&&(a.destroyItem(h.allItems[d]),h.allItems.splice(d,1))},e=[],v,t;(this.chart.colorAxis||[]).forEach(function(h){(v=h.options)&&v.showInLegend&&
(v.dataClasses&&v.visible?e=e.concat(h.getDataClassLegendSymbols()):v.visible&&e.push(h),h.series.forEach(function(h){if(!h.options.showInLegend||v.dataClasses)"point"===h.options.legendType?h.points.forEach(function(h){d(h)}):d(h)}))});for(t=e.length;t--;)h.allItems.unshift(e[t])}function e(h){h.visible&&h.item.legendColor&&h.item.legendItem.symbol.attr({fill:h.item.legendColor})}function d(){var h=this.chart.colorAxis;h&&h.forEach(function(h,a,d){h.update({},d)})}function u(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function r(){var h=this.axisTypes;h?-1===h.indexOf("colorAxis")&&h.push("colorAxis"):this.axisTypes=["colorAxis"]}function m(h){var a=this,d=h?"show":"hide";a.visible=a.options.visible=!!h;["graphic","dataLabel"].forEach(function(h){if(a[h])a[h][d]()});this.series.buildKDTree()}function A(){var h=this,a=this.options.nullColor,d=this.colorAxis,e=this.colorKey;(this.data.length?this.data:this.points).forEach(function(v){var t=v.getNestedProperty(e);
(t=v.options.color||(v.isNull||null===v.value?a:d&&"undefined"!==typeof t?d.toColor(t,v):v.color||h.color))&&v.color!==t&&(v.color=t,"point"===h.options.legendType&&v.legendItem&&v.legendItem.label&&h.chart.legend.colorizeItem(v,v.visible))})}function t(h){var a=h.prototype.createAxis;h.prototype.createAxis=function(h,d){if("colorAxis"!==h)return a.apply(this,arguments);var e=new y(this,c(d.axis,{index:this[h].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(h){h.series=[]});this.series.forEach(function(h){h.bindAxes();
h.isDirtyData=!0});l(d.redraw,!0)&&this.redraw(d.animation);return e}}function F(){this.elem.attr("fill",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}function h(){this.elem.attr("stroke",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}var B=[],y;g.compose=function(g,c,l,z,v){y||(y=g);-1===B.indexOf(c)&&(B.push(c),g=c.prototype,g.collectionsWithUpdate.push("colorAxis"),g.collectionsWithInit.colorAxis=[g.addColorAxis],f(c,"afterGetAxes",q),t(c));-1===B.indexOf(l)&&(B.push(l),c=l.prototype,
c.fillSetter=F,c.strokeSetter=h);-1===B.indexOf(z)&&(B.push(z),f(z,"afterGetAllItems",a),f(z,"afterColorizeItem",e),f(z,"afterUpdate",d));-1===B.indexOf(v)&&(B.push(v),n(v.prototype,{optionalAxis:"colorAxis",translateColors:A}),n(v.prototype.pointClass.prototype,{setVisible:m}),f(v,"afterTranslate",u),f(v,"bindAxes",r))};g.pointSetVisible=m})(q||(q={}));return q});x(b,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,
startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}});x(b,"Core/Axis/Color/ColorAxis.js",[b["Core/Axis/Axis.js"],b["Core/Color/Color.js"],b["Core/Axis/Color/ColorAxisComposition.js"],b["Core/Axis/Color/ColorAxisDefaults.js"],b["Core/Globals.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,
p,f,n,c,l,w){var q=this&&this.__extends||function(){var a=function(d,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)d.hasOwnProperty(h)&&(a[h]=d[h])};return a(d,e)};return function(d,e){function t(){this.constructor=d}a(d,e);d.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),g=k.parse,z=l.series,a=w.extend,e=w.isNumber,d=w.merge,u=w.pick;k=function(r){function m(d,a){var e=r.call(this,d,a)||this;e.beforePadding=
!1;e.chart=void 0;e.coll="colorAxis";e.dataClasses=void 0;e.name="";e.options=void 0;e.stops=void 0;e.visible=!0;e.init(d,a);return e}q(m,r);m.compose=function(d,a,e,h){p.compose(m,d,a,e,h)};m.prototype.init=function(a,e){var t=a.options.legend||{},h=e.layout?"vertical"!==e.layout:"vertical"!==t.layout,A=e.visible;t=d(m.defaultColorAxisOptions,e,{showEmpty:!1,title:null,visible:t.enabled&&!1!==A});this.coll="colorAxis";this.side=e.side||h?2:1;this.reversed=e.reversed||!h;this.opposite=!h;r.prototype.init.call(this,
a,t);this.userOptions.visible=A;e.dataClasses&&this.initDataClasses(e);this.initStops();this.horiz=h;this.zoomEnabled=!1};m.prototype.initDataClasses=function(a){var e=this.chart,A=this.legendItem=this.legendItem||{},h=a.dataClasses.length,u=this.options,m,r=0,c=e.options.chart.colorCount;this.dataClasses=m=[];A.labels=[];(a.dataClasses||[]).forEach(function(a,t){a=d(a);m.push(a);if(e.styledMode||!a.color)"category"===u.dataClassColor?(e.styledMode||(t=e.options.colors,c=t.length,a.color=t[r]),a.colorIndex=
r,r++,r===c&&(r=0)):a.color=g(u.minColor).tweenTo(g(u.maxColor),2>h?.5:t/(h-1))})};m.prototype.hasData=function(){return!!(this.tickPositions||[]).length};m.prototype.setTickPositions=function(){if(!this.dataClasses)return r.prototype.setTickPositions.call(this)};m.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(a){a.color=g(a[1])})};m.prototype.setOptions=function(a){r.prototype.setOptions.call(this,a);
this.options.crosshair=this.options.marker};m.prototype.setAxisSize=function(){var a=this.legendItem&&this.legendItem.symbol,e=this.chart,d=e.options.legend||{},h,u;a?(this.left=d=a.attr("x"),this.top=h=a.attr("y"),this.width=u=a.attr("width"),this.height=a=a.attr("height"),this.right=e.chartWidth-d-u,this.bottom=e.chartHeight-h-a,this.len=this.horiz?u:a,this.pos=this.horiz?d:h):this.len=(this.horiz?d.symbolWidth:d.symbolHeight)||m.defaultLegendLength};m.prototype.normalizedValue=function(a){this.logarithmic&&
(a=this.logarithmic.log2lin(a));return 1-(this.max-a)/(this.max-this.min||1)};m.prototype.toColor=function(a,e){var d=this.dataClasses,h=this.stops,t;if(d)for(t=d.length;t--;){var u=d[t];var r=u.from;h=u.to;if(("undefined"===typeof r||a>=r)&&("undefined"===typeof h||a<=h)){var m=u.color;e&&(e.dataClass=t,e.colorIndex=u.colorIndex);break}}else{a=this.normalizedValue(a);for(t=h.length;t--&&!(a>h[t][0]););r=h[t]||h[t+1];h=h[t+1]||r;a=1-(h[0]-a)/(h[0]-r[0]||1);m=r.color.tweenTo(h.color,a)}return m};m.prototype.getOffset=
function(){var a=this.legendItem&&this.legendItem.group,e=this.chart.axisOffset[this.side];if(a){this.axisParent=a;r.prototype.getOffset.call(this);var d=this.chart.legend;d.allItems.forEach(function(a){a instanceof m&&a.drawLegendSymbol(d,a)});d.render();this.chart.getMargins(!0);this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=e}};m.prototype.setLegendColor=function(){var a=this.reversed,d=a?1:0;a=a?0:1;d=this.horiz?[d,0,a,0]:[0,a,0,d];this.legendColor=
{linearGradient:{x1:d[0],y1:d[1],x2:d[2],y2:d[3]},stops:this.stops}};m.prototype.drawLegendSymbol=function(a,d){d=d.legendItem||{};var e=a.padding,h=a.options,t=u(h.itemDistance,10),r=this.horiz,g=u(h.symbolWidth,r?m.defaultLegendLength:12),c=u(h.symbolHeight,r?12:m.defaultLegendLength);h=u(h.labelPadding,r?16:30);this.setLegendColor();d.symbol||(d.symbol=this.chart.renderer.rect(0,a.baseline-11,g,c).attr({zIndex:1}).add(d.group));d.labelWidth=g+e+(r?t:this.options.labels.x+this.maxLabelLength);d.labelHeight=
c+e+(r?h:0)};m.prototype.setState=function(a){this.series.forEach(function(d){d.setState(a)})};m.prototype.setVisible=function(){};m.prototype.getSeriesExtremes=function(){var a=this.series,d=a.length,e;this.dataMin=Infinity;for(this.dataMax=-Infinity;d--;){var h=a[d];var r=h.colorKey=u(h.options.colorKey,h.colorKey,h.pointValKey,h.zoneAxis,"y");var m=h.pointArrayMap;var g=h[r+"Min"]&&h[r+"Max"];if(h[r+"Data"])var c=h[r+"Data"];else if(m){c=[];m=m.indexOf(r);var q=h.yData;if(0<=m&&q)for(e=0;e<q.length;e++)c.push(u(q[e][m],
q[e]))}else c=h.yData;g?(h.minColorValue=h[r+"Min"],h.maxColorValue=h[r+"Max"]):(c=z.prototype.getExtremes.call(h,c),h.minColorValue=c.dataMin,h.maxColorValue=c.dataMax);"undefined"!==typeof h.minColorValue&&(this.dataMin=Math.min(this.dataMin,h.minColorValue),this.dataMax=Math.max(this.dataMax,h.maxColorValue));g||z.prototype.applyExtremes.call(h)}};m.prototype.drawCrosshair=function(a,d){var e=this.legendItem||{},h=d&&d.plotX,u=d&&d.plotY,m=this.pos,t=this.len;if(d){var g=this.toPixels(d.getNestedProperty(d.series.colorKey));
g<m?g=m-2:g>m+t&&(g=m+t+2);d.plotX=g;d.plotY=this.len-g;r.prototype.drawCrosshair.call(this,a,d);d.plotX=h;d.plotY=u;this.cross&&!this.cross.addedToColorAxis&&e.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(e.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};m.prototype.getPlotLinePath=function(a){var d=this.left,u=a.translatedValue,h=this.top;return e(u)?this.horiz?[["M",u-4,h-6],["L",u+
4,h-6],["L",u,h],["Z"]]:[["M",d,u],["L",d-6,u+6],["L",d-6,u-6],["Z"]]:r.prototype.getPlotLinePath.call(this,a)};m.prototype.update=function(a,d){var e=this.chart.legend;this.series.forEach(function(a){a.isDirtyData=!0});(a.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems();r.prototype.update.call(this,a,d);this.legendItem&&this.legendItem.label&&(this.setLegendColor(),e.colorizeItem(this,!0))};m.prototype.destroyItems=function(){var a=this.chart,d=this.legendItem||{};if(d.label)a.legend.destroyItem(this);
else if(d.labels){var e=0;for(d=d.labels;e<d.length;e++)a.legend.destroyItem(d[e])}a.isDirtyLegend=!0};m.prototype.destroy=function(){this.chart.isDirtyLegend=!0;this.destroyItems();r.prototype.destroy.apply(this,[].slice.call(arguments))};m.prototype.remove=function(a){this.destroyItems();r.prototype.remove.call(this,a)};m.prototype.getDataClassLegendSymbols=function(){var d=this,e=d.chart,r=d.legendItem&&d.legendItem.labels||[],h=e.options.legend,m=u(h.valueDecimals,-1),g=u(h.valueSuffix,""),q=
function(a){return d.series.reduce(function(d,e){d.push.apply(d,e.points.filter(function(d){return d.dataClass===a}));return d},[])},l;r.length||d.dataClasses.forEach(function(h,u){var v=h.from,t=h.to,B=e.numberFormatter,H=!0;l="";"undefined"===typeof v?l="< ":"undefined"===typeof t&&(l="> ");"undefined"!==typeof v&&(l+=B(v,m)+g);"undefined"!==typeof v&&"undefined"!==typeof t&&(l+=" - ");"undefined"!==typeof t&&(l+=B(t,m)+g);r.push(a({chart:e,name:l,options:{},drawLegendSymbol:c.drawRectangle,visible:!0,
isDataClass:!0,setState:function(a){for(var d=0,e=q(u);d<e.length;d++)e[d].setState(a)},setVisible:function(){this.visible=H=d.visible=!H;for(var a=0,h=q(u);a<h.length;a++)h[a].setVisible(H);e.legend.colorizeItem(this,H)}},h))});return r};m.defaultColorAxisOptions=f;m.defaultLegendLength=200;m.keepProps=["legendItem"];return m}(b);Array.prototype.push.apply(b.keepProps,k.keepProps);"";return k});x(b,"Maps/MapNavigationDefaults.js",[b["Core/Defaults.js"],b["Core/Utilities.js"]],function(b,k){k=k.extend;
var p={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};k(b.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return b.defaultOptions.mapNavigation=p});x(b,"Maps/MapNavigation.js",[b["Core/Chart/Chart.js"],
b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k,p){function f(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function n(a){this.navButtons=[];this.init(a)}var c=k.doc,l=p.addEvent,w=p.extend,q=p.isNumber,g=p.merge,z=p.objectEach,a=p.pick;n.prototype.init=function(a){this.chart=a};n.prototype.update=function(e){var d=this,u=this.chart,r=u.options.mapNavigation,m,c=function(a){this.handler.call(u,a);f(a)},t=d.navButtons;e&&(r=u.options.mapNavigation=
g(u.options.mapNavigation,e));for(;t.length;)t.pop().destroy();a(r.enableButtons,r.enabled)&&!u.renderer.forExport&&(d.navButtonsGroup||(d.navButtonsGroup=u.renderer.g().attr({zIndex:4}).add()),z(r.buttons,function(a,h){a=g(r.buttonOptions,a);!u.styledMode&&a.theme&&(m=a.theme,m.style=g(a.theme.style,a.style));var e=u.renderer.button(a.text||"",0,0,c,m,void 0,void 0,void 0,"zoomIn"===h?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[h]).attr({width:a.width,
height:a.height,title:u.options.lang[h],padding:a.padding,zIndex:5}).add(d.navButtonsGroup);e.handler=a.onclick;l(e.element,"dblclick",f);t.push(e);w(a,{width:e.width,height:2*e.height});if(u.hasLoaded)e.align(a,!1,a.alignTo);else var q=l(u,"load",function(){e.element&&e.align(a,!1,a.alignTo);q()})}),e=function(){var a=u.exportingGroup&&u.exportingGroup.getBBox();if(a){var e=d.navButtonsGroup.getBBox();if(!(e.x>=a.x+a.width||e.x+e.width<=a.x||e.y>=a.y+a.height||e.y+e.height<=a.y)){var m=-e.y-e.height+
a.y-5;a=a.y+a.height-e.y+5;d.navButtonsGroup.attr({translateY:"bottom"===(r.buttonOptions&&r.buttonOptions.verticalAlign)?m:a})}}},u.hasLoaded||l(u,"render",e));this.updateEvents(r)};n.prototype.updateEvents=function(e){var d=this.chart;a(e.enableDoubleClickZoom,e.enabled)||e.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||l(d.container,"dblclick",function(a){d.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());a(e.enableMouseWheelZoom,
e.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||l(d.container,void 0!==c.onwheel?"wheel":void 0!==c.onmousewheel?"mousewheel":"DOMMouseScroll",function(a){d.pointer.inClass(a.target,"highcharts-no-mousewheel")||(d.pointer.onContainerMouseWheel(a),f(a));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};w(b.prototype,{fitToBox:function(a,d){[["x","width"],["y","height"]].forEach(function(e){var r=e[0];e=e[1];a[r]+a[e]>d[r]+d[e]&&(a[e]>d[e]?(a[e]=d[e],a[r]=d[r]):
a[r]=d[r]+d[e]-a[e]);a[e]>d[e]&&(a[e]=d[e]);a[r]<d[r]&&(a[r]=d[r])});return a},mapZoom:function(a,d,u,r,m){this.mapView&&(q(a)&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,q(d)&&q(u)?this.mapView.projection.inverse([d,u]):void 0,q(r)&&q(m)?[r,m]:void 0))}});l(b,"beforeRender",function(){this.mapNavigation=new n(this);this.mapNavigation.update()});k.MapNavigation=n});x(b,"Maps/MapPointer.js",[b["Core/Pointer.js"],b["Core/Utilities.js"]],function(b,k){var p=k.defined,f=k.extend,n=k.pick;k=k.wrap;
var c=b.prototype.normalize,l=0,w;f(b.prototype,{normalize:function(q,g){var l=this.chart;q=c.call(this,q,g);l&&l.mapView&&(g=l.mapView.pixelsToLonLat({x:q.chartX-l.plotLeft,y:q.chartY-l.plotTop}))&&f(q,g);return q},onContainerDblClick:function(c){var g=this.chart;c=this.normalize(c);g.options.mapNavigation.enableDoubleClickZoomTo?g.pointer.inClass(c.target,"highcharts-tracker")&&g.hoverPoint&&g.hoverPoint.zoomTo():g.isInsidePlot(c.chartX-g.plotLeft,c.chartY-g.plotTop)&&g.mapZoom(.5,void 0,void 0,
c.chartX,c.chartY)},onContainerMouseWheel:function(c){var g=this.chart;c=this.normalize(c);var f=p(c.wheelDelta)&&-c.wheelDelta/120||c.deltaY||c.detail;1<=Math.abs(f)&&(l+=Math.abs(f),w&&clearTimeout(w),w=setTimeout(function(){l=0},50));10>l&&g.isInsidePlot(c.chartX-g.plotLeft,c.chartY-g.plotTop)&&g.mapView&&g.mapView.zoomBy((g.options.mapNavigation.mouseWheelSensitivity-1)*-f,void 0,[c.chartX,c.chartY],1>Math.abs(f)?!1:void 0)}});k(b.prototype,"zoomOption",function(c){var g=this.chart.options.mapNavigation;
n(g.enableTouchZoom,g.enabled)&&(this.chart.options.chart.zooming.pinchType="xy");c.apply(this,[].slice.call(arguments,1))});k(b.prototype,"pinchTranslate",function(c,g,l,a,e,d,u){c.call(this,g,l,a,e,d,u);"map"===this.chart.options.chart.type&&this.hasZoom&&(c=a.scaleX>a.scaleY,this.pinchTranslateDirection(!c,g,l,a,e,d,u,c?a.scaleX:a.scaleY))})});x(b,"Series/ColorMapComposition.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k){var p=b.seriesTypes.column.prototype,f=k.addEvent,
n=k.defined,c;(function(c){function l(c){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:c&&"hover"===c.state?1:0})}var b=[];c.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value&&(void 0===this.value||!isNaN(this.value))}};c.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],
colorAttribs:function(c){var g={};!n(c.color)||c.state&&"normal"!==c.state||(g[this.colorProp||"fill"]=c.color);return g},pointAttribs:p.pointAttribs};c.compose=function(c){var g=c.prototype.pointClass;-1===b.indexOf(g)&&(b.push(g),f(g,"afterSetState",l));return c}})(c||(c={}));return c});x(b,"Maps/MapSymbols.js",[b["Core/Renderer/SVG/SVGRenderer.js"]],function(b){function k(b,f,n,c,l,k,q,g){return[["M",b+l,f],["L",b+n-k,f],["C",b+n-k/2,f,b+n,f+k/2,b+n,f+k],["L",b+n,f+c-q],["C",b+n,f+c-q/2,b+n-q/
2,f+c,b+n-q,f+c],["L",b+g,f+c],["C",b+g/2,f+c,b,f+c-g/2,b,f+c-g],["L",b,f+l],["C",b,f+l/2,b+l/2,f,b+l,f],["Z"]]}b=b.prototype.symbols;b.bottombutton=function(b,f,n,c,l){l=l&&l.r||0;return k(b-1,f-1,n,c,0,0,l,l)};b.topbutton=function(b,f,n,c,l){l=l&&l.r||0;return k(b-1,f-1,n,c,l,l,0,0)};return b});x(b,"Core/Chart/MapChart.js",[b["Core/Chart/Chart.js"],b["Core/Defaults.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],function(b,k,p,f){var n=this&&this.__extends||function(){var c=function(g,
b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d])};return c(g,b)};return function(g,b){function a(){this.constructor=g}c(g,b);g.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),c=k.getOptions,l=f.merge,w=f.pick;b=function(b){function g(){return null!==b&&b.apply(this,arguments)||this}n(g,b);g.prototype.init=function(g,a){var e=c().credits;g=l({chart:{panning:{enabled:!0,type:"xy"},
type:"map"},credits:{mapText:w(e.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:w(e.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},g);b.prototype.init.call(this,g,a)};return g}(b);(function(c){c.maps={};c.mapChart=function(g,b,a){return new c(g,b,a)};c.splitPath=function(c){"string"===typeof c&&(c=c.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),c=c.split(/[ ,;]+/).map(function(c){return/[A-za-z]/.test(c)?
c:parseFloat(c)}));return p.prototype.pathToSegments(c)}})(b||(b={}));return b});x(b,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(b){var k=-Number.MAX_VALUE,p=Number.MAX_VALUE,f=-Number.MAX_VALUE,n=Number.MAX_VALUE,c;b.forEach(function(b){var l=b[b.length-2];b=b[b.length-1];"number"===typeof l&&"number"===typeof b&&(p=Math.min(p,l),k=Math.max(k,l),n=Math.min(n,b),f=Math.max(f,b),c=!0)});if(c)return{x1:p,y1:n,x2:k,y2:f}},pointInPolygon:function(b,k){var p,f=!1,n=b.x,c=b.y;b=
0;for(p=k.length-1;b<k.length;p=b++){var l=k[b][1]>c;var w=k[p][1]>c;l!==w&&n<(k[p][0]-k[b][0])*(c-k[b][1])/(k[p][1]-k[b][1])+k[b][0]&&(f=!f)}return f}}});x(b,"Series/Map/MapPoint.js",[b["Series/ColorMapComposition.js"],b["Maps/MapUtilities.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p,f){var n=this&&this.__extends||function(){var c=function(b,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var e in d)d.hasOwnProperty(e)&&
(a[e]=d[e])};return c(b,a)};return function(b,a){function e(){this.constructor=b}c(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),c=k.boundsFromPath,l=f.extend,w=f.isNumber,q=f.pick;k=function(b){function g(){var a=null!==b&&b.apply(this,arguments)||this;a.options=void 0;a.path=void 0;a.series=void 0;return a}n(g,b);g.getProjectedPath=function(a,e){a.projectedPath||(e&&a.geometry?(e.hasCoordinates=!0,a.projectedPath=e.path(a.geometry)):a.projectedPath=a.path);return a.projectedPath||
[]};g.prototype.applyOptions=function(a,e){var d=this.series;a=b.prototype.applyOptions.call(this,a,e);e=d.joinBy;d.mapData&&d.mapMap&&(e=b.prototype.getNestedProperty.call(a,e[1]),(e="undefined"!==typeof e&&d.mapMap[e])?l(a,e):-1!==d.pointArrayMap.indexOf("value")&&(a.value=a.value||null));return a};g.prototype.getProjectedBounds=function(a){a=g.getProjectedPath(this,a);a=c(a);var e=this.properties;if(a){var d=e&&e["hc-middle-x"];e=e&&e["hc-middle-y"];a.midX=a.x1+(a.x2-a.x1)*q(this.middleX,w(d)?
d:.5);d=q(this.middleY,w(e)?e:.5);this.geometry||(d=1-d);a.midY=a.y2-(a.y2-a.y1)*d;return a}};g.prototype.onMouseOver=function(a){f.clearTimeout(this.colorInterval);if(!this.isNull&&this.visible||this.series.options.nullInteraction)b.prototype.onMouseOver.call(this,a);else this.series.onMouseOut(a)};g.prototype.setVisible=function(a){var e=a?"show":"hide";this.visible=this.options.visible=!!a;if(this.dataLabel)this.dataLabel[e]();this.graphic&&this.graphic.attr(this.series.pointAttribs(this))};g.prototype.zoomTo=
function(){var a=this.series.chart,e=a.mapView,d=this.bounds;if(e&&d){var c=w(this.insetIndex)&&e.insets[this.insetIndex];if(c){var b=c.projectedUnitsToPixels({x:d.x1,y:d.y1});d=c.projectedUnitsToPixels({x:d.x2,y:d.y2});b=e.pixelsToProjectedUnits({x:b.x,y:b.y});d=e.pixelsToProjectedUnits({x:d.x,y:d.y});d={x1:b.x,y1:b.y,x2:d.x,y2:d.y}}e.fitToBounds(d,void 0,!1);this.series.isDirty=!0;a.redraw()}};return g}(p.seriesTypes.scatter.prototype.pointClass);l(k.prototype,{dataLabelOnNull:b.pointMembers.dataLabelOnNull,
moveToTopOnHover:b.pointMembers.moveToTopOnHover,isValid:b.pointMembers.isValid});return k});x(b,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}});x(b,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}});x(b,"Extensions/GeoJSON.js",[b["Core/Chart/Chart.js"],b["Core/FormatUtilities.js"],
b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k,p,f){function n(a,e){e||(e=Object.keys(a.objects)[0]);e=a.objects[e];if(e["hc-decoded-geojson"])return e["hc-decoded-geojson"];var d=a.arcs;if(a.transform){var c=a.transform,b=c.scale,m=c.translate;d=a.arcs.map(function(a){var d=0,e=0;return a.map(function(a){a=a.slice();a[0]=(d+=a[0])*b[0]+m[0];a[1]=(e+=a[1])*b[1]+m[1];return a})})}var g=function(a){return"number"===typeof a[0]?a.reduce(function(a,e,c){var h=0>e?d[~e]:d[e];0>e?(h=h.slice(0,
0===c?h.length:h.length-1),h.reverse()):c&&(h=h.slice(1));return a.concat(h)},[]):a.map(g)};c=e.geometries.map(function(a){return{type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||g(a.arcs)}}});a={type:"FeatureCollection",copyright:a.copyright,copyrightShort:a.copyrightShort,copyrightUrl:a.copyrightUrl,features:c,"hc-recommended-mapview":e["hc-recommended-mapview"],bbox:a.bbox,title:a.title};return e["hc-decoded-geojson"]=a}function c(a,e,d){void 0===e&&(e="map");
var c=[];a="Topology"===a.type?n(a):a;a.features.forEach(function(a){var d=a.geometry||{},b=d.type;d=d.coordinates;a=a.properties;var r;"map"!==e&&"mapbubble"!==e||"Polygon"!==b&&"MultiPolygon"!==b?"mapline"!==e||"LineString"!==b&&"MultiLineString"!==b?"mappoint"===e&&"Point"===b&&d.length&&(r={geometry:{coordinates:d,type:b}}):d.length&&(r={geometry:{coordinates:d,type:b}}):d.length&&(r={geometry:{coordinates:d,type:b}});if(r){b=a&&(a.name||a.NAME);d=a&&a.lon;var u=a&&a.lat;c.push(g(r,{lat:"number"===
typeof u?u:void 0,lon:"number"===typeof d?d:void 0,name:"string"===typeof b?b:void 0,properties:a}))}});d&&a.copyrightShort&&(d.chart.mapCredits=l(d.chart.options.credits.mapText,{geojson:a}),d.chart.mapCreditsFull=l(d.chart.options.credits.mapTextFull,{geojson:a}));return c}var l=k.format,w=p.win,q=f.error,g=f.extend,z=f.merge;k=f.wrap;"";b.prototype.transformFromLatLon=function(a,e){var d=this.options.chart.proj4||w.proj4;if(d){var c=e.jsonmarginX;c=void 0===c?0:c;var b=e.jsonmarginY;b=void 0===
b?0:b;var m=e.jsonres;m=void 0===m?1:m;var g=e.scale;g=void 0===g?1:g;var t=e.xoffset;t=void 0===t?0:t;var l=e.xpan;l=void 0===l?0:l;var h=e.yoffset;h=void 0===h?0:h;var f=e.ypan;f=void 0===f?0:f;a=d(e.crs,[a.lon,a.lat]);d=e.cosAngle||e.rotation&&Math.cos(e.rotation);var n=e.sinAngle||e.rotation&&Math.sin(e.rotation);e=e.rotation?[a[0]*d+a[1]*n,-a[0]*n+a[1]*d]:a;return{x:((e[0]-t)*g+l)*m+c,y:-(((h-e[1])*g+f)*m-b)}}q(21,!1,this)};b.prototype.transformToLatLon=function(a,e){var d=this.options.chart.proj4||
w.proj4;if(!d)q(21,!1,this);else if(null!==a.y){var c=e.jsonmarginX,b=e.jsonmarginY,g=e.jsonres;g=void 0===g?1:g;var l=e.scale;l=void 0===l?1:l;var t=e.xoffset,f=e.xpan,h=e.yoffset,n=e.ypan;a={x:((a.x-(void 0===c?0:c))/g-(void 0===f?0:f))/l+(void 0===t?0:t),y:((a.y-(void 0===b?0:b))/g+(void 0===n?0:n))/l+(void 0===h?0:h)};c=e.cosAngle||e.rotation&&Math.cos(e.rotation);b=e.sinAngle||e.rotation&&Math.sin(e.rotation);e=d(e.crs,"WGS84",e.rotation?{x:a.x*c+a.y*-b,y:a.x*b+a.y*c}:a);return{lat:e.y,lon:e.x}}};
b.prototype.fromPointToLatLon=function(a){return this.mapView&&this.mapView.projectedUnitsToLonLat(a)};b.prototype.fromLatLonToPoint=function(a){return this.mapView&&this.mapView.lonLatToProjectedUnits(a)};k(b.prototype,"addCredits",function(a,e){e=z(!0,this.options.credits,e);this.mapCredits&&(e.href=null);a.call(this,e);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})});p.geojson=c;return{geojson:c,topo2geo:n}});x(b,"Core/Geometry/PolygonClip.js",[],function(){var b=
function(b,n,c){return(n[0]-b[0])*(c[1]-b[1])>(n[1]-b[1])*(c[0]-b[0])},k=function(b,n,c,l){var f=[b[0]-n[0],b[1]-n[1]],q=[c[0]-l[0],c[1]-l[1]];b=b[0]*n[1]-b[1]*n[0];c=c[0]*l[1]-c[1]*l[0];l=1/(f[0]*q[1]-f[1]*q[0]);f=[(b*q[0]-c*f[0])*l,(b*q[1]-c*f[1])*l];f.isIntersection=!0;return f},p;(function(f){f.clipLineString=function(b,c){var l=[];b=f.clipPolygon(b,c,!1);for(c=1;c<b.length;c++)b[c].isIntersection&&b[c-1].isIntersection&&(l.push(b.splice(0,c)),c=0),c===b.length-1&&l.push(b);return l};f.clipPolygon=
function(f,c,l){void 0===l&&(l=!0);for(var n=c[c.length-1],q,g,p=f,a=0;a<c.length;a++){var e=p;f=c[a];p=[];q=l?e[e.length-1]:e[0];for(var d=0;d<e.length;d++)g=e[d],b(n,f,g)?(b(n,f,q)||p.push(k(n,f,q,g)),p.push(g)):b(n,f,q)&&p.push(k(n,f,q,g)),q=g;n=f}return p}})(p||(p={}));return p});x(b,"Maps/Projections/LambertConformalConic.js",[],function(){var b=Math.sign||function(b){return 0===b?0:0<b?1:-1},k=Math.PI/180,p=Math.PI/2;return function(){function f(f){var c,l=(f.parallels||[]).map(function(b){return b*
k}),n=l[0]||0;l=null!==(c=l[1])&&void 0!==c?c:n;c=Math.cos(n);"object"===typeof f.projectedBounds&&(this.projectedBounds=f.projectedBounds);f=n===l?Math.sin(n):Math.log(c/Math.cos(l))/Math.log(Math.tan((p+l)/2)/Math.tan((p+n)/2));1e-10>Math.abs(f)&&(f=1e-10*(b(f)||1));this.n=f;this.c=c*Math.pow(Math.tan((p+n)/2),f)/f}f.prototype.forward=function(b){var c=b[0]*k,f=this.c,n=this.n,q=this.projectedBounds;b=b[1]*k;0<f?b<-p+.000001&&(b=-p+.000001):b>p-.000001&&(b=p-.000001);var g=f/Math.pow(Math.tan((p+
b)/2),n);b=g*Math.sin(n*c)*63.78137;c=63.78137*(f-g*Math.cos(n*c));f=[b,c];q&&(b<q.x1||b>q.x2||c<q.y1||c>q.y2)&&(f.outside=!0);return f};f.prototype.inverse=function(f){var c=f[0]/63.78137,l=this.c,n=this.n;f=l-f[1]/63.78137;var q=b(n)*Math.sqrt(c*c+f*f),g=Math.atan2(c,Math.abs(f))*b(f);0>f*n&&(g-=Math.PI*b(c)*b(f));return[g/n/k,(2*Math.atan(Math.pow(l/q,1/n))-p)/k]};return f}()});x(b,"Maps/Projections/EqualEarth.js",[],function(){var b=Math.sqrt(3)/2;return function(){function k(){this.bounds={x1:-200.37508342789243,
x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}k.prototype.forward=function(k){var f=Math.PI/180,n=Math.asin(b*Math.sin(k[1]*f)),c=n*n,l=c*c*c;return[k[0]*f*Math.cos(n)*74.03120656864502/(b*(1.340264+3*-.081106*c+l*(7*.000893+.034164*c))),74.03120656864502*n*(1.340264+-.081106*c+l*(.000893+.003796*c))]};k.prototype.inverse=function(k){var f=k[0]/74.03120656864502;k=k[1]/74.03120656864502;var n=180/Math.PI,c=k,l;for(l=0;12>l;++l){var p=c*c;var q=p*p*p;var g=c*(1.340264+-.081106*
p+q*(.000893+.003796*p))-k;p=1.340264+3*-.081106*p+q*(7*.000893+.034164*p);c-=g/=p;if(1e-9>Math.abs(g))break}p=c*c;return[n*b*f*(1.340264+3*-.081106*p+p*p*p*(7*.000893+.034164*p))/Math.cos(c),n*Math.asin(Math.sin(c)/b)]};return k}()});x(b,"Maps/Projections/Miller.js",[],function(){var b=Math.PI/4,k=Math.PI/180;return function(){function p(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}p.prototype.forward=function(f){return[f[0]*k*63.78137,
79.7267125*Math.log(Math.tan(b+.4*f[1]*k))]};p.prototype.inverse=function(f){return[f[0]/63.78137/k,2.5*(Math.atan(Math.exp(f[1]/63.78137*.8))-b)/k]};return p}()});x(b,"Maps/Projections/Orthographic.js",[],function(){var b=Math.PI/180;return function(){function k(){this.antimeridianCutting=!1;this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}k.prototype.forward=function(k){var f=k[0];k=k[1]*b;k=[Math.cos(k)*Math.sin(f*b)*63.78460826781007,63.78460826781007*
Math.sin(k)];if(-90>f||90<f)k.outside=!0;return k};k.prototype.inverse=function(k){var f=k[0]/63.78460826781007;k=k[1]/63.78460826781007;var n=Math.sqrt(f*f+k*k),c=Math.asin(n),l=Math.sin(c);return[Math.atan2(f*l,n*Math.cos(c))/b,Math.asin(n&&k*l/n)/b]};return k}()});x(b,"Maps/Projections/WebMercator.js",[],function(){var b=Math.PI/180;return function(){function k(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071};this.maxLatitude=85.0511287798}
k.prototype.forward=function(k){var f=Math.sin(k[1]*b);f=[63.78137*k[0]*b,63.78137*Math.log((1+f)/(1-f))/2];85.0511287798<Math.abs(k[1])&&(f.outside=!0);return f};k.prototype.inverse=function(k){return[k[0]/(63.78137*b),(2*Math.atan(Math.exp(k[1]/63.78137))-Math.PI/2)/b]};return k}()});x(b,"Maps/Projections/ProjectionRegistry.js",[b["Maps/Projections/LambertConformalConic.js"],b["Maps/Projections/EqualEarth.js"],b["Maps/Projections/Miller.js"],b["Maps/Projections/Orthographic.js"],b["Maps/Projections/WebMercator.js"]],
function(b,k,p,f,n){return{EqualEarth:k,LambertConformalConic:b,Miller:p,Orthographic:f,WebMercator:n}});x(b,"Maps/Projection.js",[b["Core/Geometry/PolygonClip.js"],b["Maps/Projections/ProjectionRegistry.js"],b["Core/Utilities.js"]],function(b,k,p){var f=this&&this.__spreadArray||function(b,a,e){if(e||2===arguments.length)for(var d=0,c=a.length,g;d<c;d++)!g&&d in a||(g||(g=Array.prototype.slice.call(a,0,d)),g[d]=a[d]);return b.concat(g||Array.prototype.slice.call(a))},n=b.clipLineString,c=b.clipPolygon,
l=p.clamp,w=p.erase,q=2*Math.PI/360,g=function(b){-180>b&&(b+=360);180<b&&(b-=360);return b};return function(){function b(a){void 0===a&&(a={});this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=90;this.options=a;var e=a.name,d=a.projectedBounds,c=a.rotation;this.rotator=c?this.getRotator(c):void 0;if(e=e?b.registry[e]:void 0)this.def=new e(a);var g=this.def,m=this.rotator;g&&(this.maxLatitude=g.maxLatitude||90,this.hasGeoProjection=!0);m&&g?(this.forward=function(a){return g.forward(m.forward(a))},
this.inverse=function(a){return m.inverse(g.inverse(a))}):g?(this.forward=function(a){return g.forward(a)},this.inverse=function(a){return g.inverse(a)}):m&&(this.forward=m.forward,this.inverse=m.inverse);this.bounds="world"===d?g&&g.bounds:d}b.add=function(a,e){b.registry[a]=e};b.greatCircle=function(a,b,d){var e=Math.atan2,c=Math.cos,g=Math.sin,f=Math.sqrt,t=a[1]*q,l=a[0]*q,h=b[1]*q,k=b[0]*q,y=h-t,n=k-l;y=g(y/2)*g(y/2)+c(t)*c(h)*g(n/2)*g(n/2);y=2*e(f(y),f(1-y));var p=Math.round(6371E3*y/5E5);n=
[];d&&n.push(a);if(1<p)for(p=a=1/p;.999>p;p+=a){var D=g((1-p)*y)/g(y),C=g(p*y)/g(y),v=D*c(t)*c(l)+C*c(h)*c(k),I=D*c(t)*g(l)+C*c(h)*g(k);D=D*g(t)+C*g(h);D=e(D,f(v*v+I*I));v=e(I,v);n.push([v/q,D/q])}d&&n.push(b);return n};b.insertGreatCircles=function(a){for(var e=a.length-1;e--;)if(10<Math.max(Math.abs(a[e][0]-a[e+1][0]),Math.abs(a[e][1]-a[e+1][1]))){var d=b.greatCircle(a[e],a[e+1]);d.length&&a.splice.apply(a,f([e+1,0],d,!1))}};b.toString=function(a){a=a||{};var b=a.rotation;return[a.name,b&&b.join(",")].join(";")};
b.prototype.lineIntersectsBounds=function(a){var b=this.bounds||{},d=b.x2,c=b.y1,g=b.y2,f=function(a,b,d){var e=a[0];a=a[1];var h=b?0:1;if("number"===typeof d&&e[b]>=d!==a[b]>=d)return e=e[h]+(d-e[b])/(a[b]-e[b])*(a[h]-e[h]),b?[e,d]:[d,e]},l=a[0];if(b=f(a,0,b.x1))l=b,a[1]=b;else if(b=f(a,0,d))l=b,a[1]=b;if(b=f(a,1,c))l=b;else if(b=f(a,1,g))l=b;return l};b.prototype.getRotator=function(a){var b=a[0]*q,d=(a[1]||0)*q;a=(a[2]||0)*q;var c=Math.cos(d),g=Math.sin(d),f=Math.cos(a),l=Math.sin(a);if(0!==b||
0!==d||0!==a)return{forward:function(a){var d=a[0]*q+b,e=a[1]*q,m=Math.cos(e);a=Math.cos(d)*m;d=Math.sin(d)*m;e=Math.sin(e);m=e*c+a*g;return[Math.atan2(d*f-m*l,a*c-e*g)/q,Math.asin(m*f+d*l)/q]},inverse:function(a){var d=a[0]*q,e=a[1]*q,m=Math.cos(e);a=Math.cos(d)*m;d=Math.sin(d)*m;e=Math.sin(e);m=e*f-d*l;return[(Math.atan2(d*f+e*l,a*c+m*g)-b)/q,Math.asin(m*c-a*g)/q]}}};b.prototype.forward=function(a){return a};b.prototype.inverse=function(a){return a};b.prototype.cutOnAntimeridian=function(a,e){var d=
[],c=[a];a.forEach(function(b,c){var h=a[c-1];if(!c){if(!e)return;h=a[a.length-1]}var g=h[0],v=b[0];(-90>g||90<g)&&(-90>v||90<v)&&0<g!==0<v&&(v=l((180-(g+360)%360)/((v+360)%360-(g+360)%360),0,1),d.push({i:c,lat:h[1]+v*(b[1]-h[1]),direction:0>g?1:-1,previousLonLat:h,lonLat:b}))});if(d.length)if(e){if(1===d.length%2){var r=d.slice().sort(function(a,b){return Math.abs(b.lat)-Math.abs(a.lat)})[0];w(d,r)}for(var m=d.length-2;0<=m;){var k=d[m].i,t=g(180+.000001*d[m].direction),n=g(180-.000001*d[m].direction);
k=a.splice.apply(a,f([k,d[m+1].i-k],b.greatCircle([t,d[m].lat],[t,d[m+1].lat],!0),!1));k.push.apply(k,b.greatCircle([n,d[m+1].lat],[n,d[m].lat],!0));c.push(k);m-=2}if(r)for(t=0;t<c.length;t++){m=r.direction;var h=r.lat;n=c[t];k=n.indexOf(r.lonLat);if(-1<k){t=(0>h?-1:1)*this.maxLatitude;var q=g(180+.000001*m),y=g(180-.000001*m);h=b.greatCircle([q,h],[q,t],!0);for(q+=120*m;-180<q&&180>q;q+=120*m)h.push([q,t]);h.push.apply(h,b.greatCircle([y,t],[y,r.lat],!0));n.splice.apply(n,f([k,0],h,!1));break}}}else for(m=
d.length;m--;)k=d[m].i,k=a.splice(k,a.length,[g(180+.000001*d[m].direction),d[m].lat]),k.unshift([g(180-.000001*d[m].direction),d[m].lat]),c.push(k);return c};b.prototype.path=function(a){var e=this,d=this.bounds,g=this.def,f=this.rotator,m=[],l="Polygon"===a.type||"MultiPolygon"===a.type,k=this.hasGeoProjection,q=!g||!1!==g.antimeridianCutting,h=q?f:void 0,p=q?g||this:this,y;d&&(y=[[d.x1,d.y1],[d.x2,d.y1],[d.x2,d.y2],[d.x1,d.y2]]);var E=function(a){a=a.map(function(a){if(q){h&&(a=h.forward(a));var b=
a[0];.000001>Math.abs(b-180)&&(b=180>b?179.999999:180.000001);a=[b,a[1]]}return a});var g=[a];k&&(b.insertGreatCircles(a),q&&(g=e.cutOnAntimeridian(a,l)));g.forEach(function(a){if(!(2>a.length)){var e=!1,h=!1,g=function(a){e?m.push(["L",a[0],a[1]]):(m.push(["M",a[0],a[1]]),e=!0)},f=!1,J=!1,r=a.map(function(a){a=p.forward(a);a.outside?f=!0:J=!0;Infinity===a[1]?a[1]=1E10:-Infinity===a[1]&&(a[1]=-1E10);return a});if(q){l&&r.push(r[0]);if(f){if(!J)return;if(y)if(l)r=c(r,y);else if(d){n(r,y).forEach(function(a){e=
!1;a.forEach(g)});return}}r.forEach(g)}else for(var u=0;u<r.length;u++){var t=a[u],B=r[u];if(B.outside)h=!0;else{if(l&&!C){var C=t;a.push(t);r.push(B)}h&&A&&(l&&k?b.greatCircle(A,t).forEach(function(a){return g(p.forward(a))}):e=!1);g(B);var A=t;h=!1}}}})};"LineString"===a.type?E(a.coordinates):"MultiLineString"===a.type?a.coordinates.forEach(function(a){return E(a)}):"Polygon"===a.type?(a.coordinates.forEach(function(a){return E(a)}),m.length&&m.push(["Z"])):"MultiPolygon"===a.type&&(a.coordinates.forEach(function(a){a.forEach(function(a){return E(a)})}),
m.length&&m.push(["Z"]));return m};b.registry=k;return b}()});x(b,"Maps/MapView.js",[b["Maps/MapViewOptionsDefault.js"],b["Maps/MapViewInsetsOptionsDefault.js"],b["Extensions/GeoJSON.js"],b["Core/Chart/MapChart.js"],b["Maps/MapUtilities.js"],b["Maps/Projection.js"],b["Core/Utilities.js"]],function(b,k,p,f,n,c,l){var w=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d])};return a(b,d)};return function(b,d){function e(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}}(),q=this&&this.__spreadArray||function(a,b,d){if(d||2===arguments.length)for(var e=0,c=b.length,h;e<c;e++)!h&&e in b||(h||(h=Array.prototype.slice.call(b,0,e)),h[e]=b[e]);return a.concat(h||Array.prototype.slice.call(b))},g=p.topo2geo,z=f.maps,a=n.boundsFromPath,e=n.pointInPolygon,d=l.addEvent,u=l.clamp,r=l.fireEvent,m=l.isArray,A=l.isNumber,
t=l.isObject,F=l.isString,h=l.merge,B=l.pick,y=l.relativeLength,E=function(a,b){return Math.log(400.979322/Math.max((a.x2-a.x1)/(b.width/256),(a.y2-a.y1)/(b.height/256)))/Math.log(2)},G=function(){function a(e,g){var v=this;this.insets=[];this.padding=[0,0,0,0];this.eventsToUnbind=[];var f;if(!(this instanceof D)){var m=q([e.options.chart.map],(e.options.series||[]).map(function(a){return a.mapData}),!0).map(function(a){return v.getGeoMap(a)}),l=[];m.forEach(function(a){a&&(f||(f=a["hc-recommended-mapview"]),
a.bbox&&(a=a.bbox,l.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))});var k=l.length&&a.compositeBounds(l);if(k){var r=k.x1;var u=k.y1,t=k.x2;k=k.y2;r=180<t-r&&90<k-u?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[u,k],rotation:[-(r+t)/2]}}this.geoMap=m[0]}this.userOptions=g||{};m=h(b,{projection:r},f,g);k=f&&f.insets;g=g&&g.insets;k&&g&&(m.insets=a.mergeInsets(k,g));this.chart=e;this.center=m.center;this.options=m;this.projection=new c(m.projection);this.playingField=e.plotBox;this.zoom=
m.zoom||0;this.createInsets();this.eventsToUnbind.push(d(e,"afterSetChartSize",function(){v.playingField=v.getField();if(void 0===v.minZoom||v.minZoom===v.zoom)v.fitToBounds(void 0,void 0,!1),!v.chart.hasRendered&&A(v.userOptions.zoom)&&(v.zoom=v.userOptions.zoom),v.userOptions.center&&h(!0,v.center,v.userOptions.center)}));this.setUpEvents()}a.mergeInsets=function(a,b){var d=function(a){var b={};a.forEach(function(a,d){b[a&&a.id||"i".concat(d)]=a});return b},e=h(d(a),d(b));return Object.keys(e).map(function(a){return e[a]})};
a.prototype.createInsets=function(){var a=this,b=this.options,d=b.insets;d&&d.forEach(function(d){d=new D(a,h(b.insetOptions,d));a.insets.push(d)})};a.prototype.fitToBounds=function(a,b,d,e){void 0===d&&(d=!0);var h=a||this.getProjectedBounds();if(h){var c=B(b,a?0:this.options.padding);b=this.getField(!1);c=m(c)?c:[c,c,c,c];this.padding=[y(c[0],b.height),y(c[1],b.width),y(c[2],b.height),y(c[3],b.width)];this.playingField=this.getField();b=E(h,this.playingField);a||(this.minZoom=b);a=this.projection.inverse([(h.x2+
h.x1)/2,(h.y2+h.y1)/2]);this.setView(a,b,d,e)}};a.prototype.getField=function(a){void 0===a&&(a=!0);a=a?this.padding:[0,0,0,0];return{x:a[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}};a.prototype.getGeoMap=function(a){if(F(a))return z[a];if(t(a,!0)){if("FeatureCollection"===a.type)return a;if("Topology"===a.type)return g(a)}};a.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),b=this.getScale();if(a){var d=this.padding,e=this.projectedUnitsToPixels({x:a.x1,
y:a.y2});return{width:(a.x2-a.x1)*b+d[1]+d[3],height:(a.y2-a.y1)*b+d[0]+d[2],x:e.x-d[3],y:e.y-d[0]}}};a.prototype.getProjectedBounds=function(){var b=this.chart.series.reduce(function(a,b){var d=b.getProjectedBounds&&b.getProjectedBounds();d&&!1!==b.options.affectsMapView&&a.push(d);return a},[]);return this.projection.bounds||a.compositeBounds(b)};a.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)};a.prototype.getSVGTransform=function(){var a=this.playingField,b=a.x,d=a.y,
e=a.width;a=a.height;var c=this.projection.forward(this.center),h=this.projection.hasCoordinates?-1:1,g=this.getScale();h*=g;return{scaleX:g,scaleY:h,translateX:b+e/2-c[0]*g,translateY:d+a/2-c[1]*h}};a.prototype.lonLatToPixels=function(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)};a.prototype.lonLatToProjectedUnits=function(a){var b=this.chart,d=b.mapTransforms;if(d){for(var c in d)if(Object.hasOwnProperty.call(d,c)&&d[c].hitZone){var h=b.transformFromLatLon(a,d[c]);
if(h&&e(h,d[c].hitZone.coordinates[0]))return h}return b.transformFromLatLon(a,d["default"])}d=0;for(c=this.insets;d<c.length;d++)if(b=c[d],b.options.geoBounds&&e({x:a.lon,y:a.lat},b.options.geoBounds.coordinates[0]))return a=b.projection.forward([a.lon,a.lat]),a=b.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(a);a=this.projection.forward([a.lon,a.lat]);if(!a.outside)return{x:a[0],y:a[1]}};a.prototype.projectedUnitsToLonLat=function(a){var b=this.chart,d=b.mapTransforms;if(d){for(var c in d)if(Object.hasOwnProperty.call(d,
c)&&d[c].hitZone&&e(a,d[c].hitZone.coordinates[0]))return b.transformToLatLon(a,d[c]);return b.transformToLatLon(a,d["default"])}d=this.projectedUnitsToPixels(a);c=0;for(var h=this.insets;c<h.length;c++)if(b=h[c],b.hitZone&&e(d,b.hitZone.coordinates[0]))return a=b.pixelsToProjectedUnits(d),a=b.projection.inverse([a.x,a.y]),{lon:a[0],lat:a[1]};a=this.projection.inverse([a.x,a.y]);return{lon:a[0],lat:a[1]}};a.prototype.redraw=function(a){this.chart.series.forEach(function(a){a.useMapGeometry&&(a.isDirty=
!0)});this.chart.redraw(a)};a.prototype.setView=function(a,b,d,e){void 0===d&&(d=!0);a&&(this.center=a);"number"===typeof b&&("number"===typeof this.minZoom&&(b=Math.max(b,this.minZoom)),"number"===typeof this.options.maxZoom&&(b=Math.min(b,this.options.maxZoom)),A(b)&&(this.zoom=b));var c=this.getProjectedBounds();if(c){a=this.projection.forward(this.center);var h=this.playingField;b=h.x;var g=h.y,f=h.width;h=h.height;var m=this.getScale(),l=this.projectedUnitsToPixels({x:c.x1,y:c.y1}),k=this.projectedUnitsToPixels({x:c.x2,
y:c.y2});c=[(c.x1+c.x2)/2,(c.y1+c.y2)/2];var u=l.x,t=k.y;k=k.x;l=l.y;k-u<f?a[0]=c[0]:u<b&&k<b+f?a[0]+=Math.max(u-b,k-f-b)/m:k>b+f&&u>b&&(a[0]+=Math.min(k-f-b,u-b)/m);l-t<h?a[1]=c[1]:t<g&&l<g+h?a[1]-=Math.max(t-g,l-h-g)/m:l>g+h&&t>g&&(a[1]-=Math.min(l-h-g,t-g)/m);this.center=this.projection.inverse(a);this.insets.forEach(function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())});this.render()}r(this,"afterSetView");d&&this.redraw(e)};a.prototype.projectedUnitsToPixels=function(a){var b=
this.getScale(),d=this.projection.forward(this.center),e=this.playingField;return{x:e.x+e.width/2-b*(d[0]-a.x),y:e.y+e.height/2+b*(d[1]-a.y)}};a.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))};a.prototype.pixelsToProjectedUnits=function(a){var b=a.x;a=a.y;var d=this.getScale(),e=this.projection.forward(this.center),c=this.playingField;return{x:e[0]+(b-(c.x+c.width/2))/d,y:e[1]-(a-(c.y+c.height/2))/d}};a.prototype.setUpEvents=function(){var a=
this,b=this.chart,e,c,h,g=function(d){var g=b.pointer.pinchDown,f=a.projection,m=b.mouseDownX,l=b.mouseDownY;1===g.length&&(m=g[0].chartX,l=g[0].chartY);if("number"===typeof m&&"number"===typeof l){var k=""+m+",".concat(l),r=d.originalEvent;g=r.chartX;r=r.chartY;k!==c&&(c=k,e=a.projection.forward(a.center),h=(a.projection.options.rotation||[0,0]).slice());k=(k=f.def&&f.def.bounds)&&E(k,a.playingField)||-Infinity;"Orthographic"===f.options.name&&(a.minZoom||Infinity)<1.1*k?(f=440/(a.getScale()*Math.min(b.plotWidth,
b.plotHeight)),h&&(m=(m-g)*f-h[0],l=u(-h[1]-(l-r)*f,-80,80),g=a.zoom,a.update({projection:{rotation:[-m,-l]}},!1),a.zoom=g,b.redraw(!1))):(f=a.getScale(),l=a.projection.inverse([e[0]+(m-g)/f,e[1]-(l-r)/f]),a.setView(l,void 0,!0,!1));d.preventDefault()}};d(b,"pan",g);d(b,"touchpan",g);d(b,"selection",function(d){if(d.resetSelection)a.zoomBy();else{var e=d.x-b.plotLeft,c=d.y-b.plotTop,h=a.pixelsToProjectedUnits({x:e,y:c}),g=h.y;h=h.x;e=a.pixelsToProjectedUnits({x:e+d.width,y:c+d.height});a.fitToBounds({x1:h,
y1:g,x2:e.x,y2:e.y},void 0,!0,d.originalEvent.touches?!1:void 0);/^touch/.test(d.originalEvent.type)||b.showResetZoom();d.preventDefault()}})};a.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())};a.prototype.update=function(a,b,d){void 0===b&&(b=!0);var e=a.projection;e=e&&c.toString(e)!==c.toString(this.options.projection);var g=!1;h(!0,this.userOptions,a);h(!0,this.options,a);"insets"in a&&(this.insets.forEach(function(a){return a.destroy()}),
this.insets.length=0,g=!0);if(e||g)this.chart.series.forEach(function(a){var b=a.transformGroups;a.clearBounds&&a.clearBounds();a.isDirty=!0;a.isDirtyData=!0;if(g&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()}),e&&(this.projection=new c(this.options.projection)),g&&this.createInsets(),a.center||A(a.zoom)||this.fitToBounds(void 0,void 0,!1);(a.center||A(a.zoom))&&this.setView(this.options.center,a.zoom,!1);b&&this.chart.redraw(d)};a.prototype.zoomBy=function(a,b,d,e){var c=this.chart,h=this.projection.forward(this.center);
b=b?this.projection.forward(b):[];var g=b[0],f=b[1];"number"===typeof a?(a=this.zoom+a,b=void 0,d&&(g=d[0],f=d[1],d=this.getScale(),g=g-c.plotLeft-c.plotWidth/2,c=f-c.plotTop-c.plotHeight/2,g=h[0]+g/d,f=h[1]+c/d),"number"===typeof g&&"number"===typeof f&&(d=1-Math.pow(2,this.zoom)/Math.pow(2,a),g=h[0]-g,c=h[1]-f,h[0]-=g*d,h[1]+=c*d,b=this.projection.inverse(h)),this.setView(b,a,void 0,e)):this.fitToBounds(void 0,void 0,void 0,e)};a.compositeBounds=function(a){if(a.length)return a.slice(1).reduce(function(a,
b){a.x1=Math.min(a.x1,b.x1);a.y1=Math.min(a.y1,b.y1);a.x2=Math.max(a.x2,b.x2);a.y2=Math.max(a.y2,b.y2);return a},h(a[0]))};return a}(),D=function(b){function d(d,e){var c=b.call(this,d.chart,e)||this;c.id=e.id;c.mapView=d;c.options=h(k,e);c.allBounds=[];c.options.geoBounds&&(d=d.projection.path(c.options.geoBounds),c.geoBoundsProjectedBox=a(d),c.geoBoundsProjectedPolygon=d.map(function(a){return[a[1]||0,a[2]||0]}));return c}w(d,b);d.prototype.getField=function(a){void 0===a&&(a=!0);var d=this.hitZone;
if(d){var e=a?this.padding:[0,0,0,0];d=d.coordinates[0];var c=d.map(function(a){return a[0]}),h=d.map(function(a){return a[1]});d=Math.min.apply(0,c)+e[3];c=Math.max.apply(0,c)-e[1];var g=Math.min.apply(0,h)+e[0];e=Math.max.apply(0,h)-e[2];if(A(d)&&A(g))return{x:d,y:g,width:c-d,height:e-g}}return b.prototype.getField.call(this,a)};d.prototype.getHitZone=function(){var a=this.chart,b=this.mapView,d=this.options,e=(d.field||{}).coordinates;if(e){e=e[0];if("percent"===d.units){var c="mapBoundingBox"===
d.relativeTo&&b.getMapBBox()||h(a.plotBox,{x:0,y:0});e=e.map(function(a){return[y(""+a[0]+"%",c.width,c.x),y(""+a[1]+"%",c.height,c.y)]})}return{type:"Polygon",coordinates:[e]}}};d.prototype.getProjectedBounds=function(){return G.compositeBounds(this.allBounds)};d.prototype.isInside=function(a){var b=this.geoBoundsProjectedBox,d=this.geoBoundsProjectedPolygon;return!!(b&&a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y1&&a.y<=b.y2&&d&&e(a,d))};d.prototype.render=function(){var a=this.chart,b=this.mapView,d=this.options,
e=d.borderPath||d.field;if(e&&b.group){var c=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),c=!1);a.styledMode||this.border.attr({stroke:d.borderColor,"stroke-width":d.borderWidth});var h=Math.round(this.border.strokeWidth())%2/2,g="mapBoundingBox"===d.relativeTo&&b.getMapBBox()||b.playingField;b=(e.coordinates||[]).reduce(function(b,e){return e.reduce(function(b,e,c){var f=e[0];e=e[1];"percent"===d.units&&(f=a.plotLeft+y(""+f+"%",g.width,g.x),
e=a.plotTop+y(""+e+"%",g.height,g.y));f=Math.floor(f)+h;e=Math.floor(e)+h;b.push(0===c?["M",f,e]:["L",f,e]);return b},b)},[]);this.border[c?"animate":"attr"]({d:b})}};d.prototype.destroy=function(){this.border&&(this.border=this.border.destroy());this.eventsToUnbind.forEach(function(a){return a()})};d.prototype.setUpEvents=function(){};return d}(G);d(f,"afterInit",function(){this.mapView=new G(this,this.options.mapView)});return G});x(b,"Series/Map/MapSeries.js",[b["Core/Animation/AnimationUtilities.js"],
b["Series/ColorMapComposition.js"],b["Series/CenteredUtilities.js"],b["Core/Globals.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Chart/MapChart.js"],b["Series/Map/MapPoint.js"],b["Maps/MapView.js"],b["Core/Series/Series.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],function(b,k,p,f,n,c,l,w,q,g,z,a){var e=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||
function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(b,d)};return function(b,d){function e(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}}(),d=b.animObject;b=f.noop;var u=c.splitPath;c=g.seriesTypes;var r=c.column,m=c.scatter;c=a.extend;var A=a.find,t=a.fireEvent,F=a.getNestedProperty,h=a.isArray,B=a.defined,y=a.isNumber,E=a.isObject,G=a.merge,D=a.objectEach,C=a.pick,v=a.splat;a=function(a){function b(){var b=null!==a&&a.apply(this,
arguments)||this;b.chart=void 0;b.data=void 0;b.group=void 0;b.joinBy=void 0;b.options=void 0;b.points=void 0;b.processedData=[];return b}e(b,a);b.prototype.animate=function(a){var b=this.chart,e=this.group,c=d(this.options.animation);b.renderer.isSVG&&(a?e.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.001,scaleY:.001}):e.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},c))};b.prototype.animateDrilldown=function(a){var b=this.chart,d=this.group;
b.renderer.isSVG&&(a?d.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(d.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),b.drilldown&&b.drilldown.fadeInGroup(this.dataLabelsGroup)))};b.prototype.animateDrillupFrom=function(){var a=this.chart;a.renderer.isSVG&&this.group.animate({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,
opacity:.01})};b.prototype.animateDrillupTo=function(a){r.prototype.animateDrillupTo.call(this,a)};b.prototype.clearBounds=function(){this.points.forEach(function(a){delete a.bounds;delete a.insetIndex;delete a.projectedPath});delete this.bounds};b.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)};b.prototype.drawMapDataLabels=function(){q.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};
b.prototype.drawPoints=function(){var a=this,b=this,d=this.chart,e=this.group,c=this.transformGroups,h=void 0===c?[]:c,g=d.mapView,f=d.renderer;g&&(this.transformGroups=h,h[0]||(h[0]=f.g().add(e)),g.insets.forEach(function(a,b){h[b+1]||h.push(f.g().add(e))}),this.doFullTranslate()&&(this.points.forEach(function(b){var e=b.graphic,c=b.shapeArgs;b.group=h["number"===typeof b.insetIndex?b.insetIndex+1:0];e&&e.parentGroup!==b.group&&e.add(b.group);c&&d.hasRendered&&!d.styledMode&&(c.fill=a.pointAttribs(b,
b.state).fill)}),r.prototype.drawPoints.apply(this),this.points.forEach(function(e){var c=e.graphic;if(c){var h=c.animate,g="";e.name&&(g+="highcharts-name-"+e.name.replace(/ /g,"-").toLowerCase());e.properties&&e.properties["hc-key"]&&(g+=" highcharts-key-"+e.properties["hc-key"].toString().toLowerCase());g&&c.addClass(g);d.styledMode&&c.css(a.pointAttribs(e,e.selected&&"select"||void 0));c.animate=function(a,e,g){var f=!1;if(a["stroke-width"]){var m=C(b.getStrokeWidth(b.options),1)/(d.mapView&&
d.mapView.getScale()||1);"inherit"===c["stroke-width"]&&(c["stroke-width"]=m);"inherit"===a["stroke-width"]&&(a["stroke-width"]=m,f=!0)}return h.call(c,a,e,f?function(){c.attr({"stroke-width":"inherit"});g&&g.apply(this,arguments)}:g)}}})),h.forEach(function(b,e){var c=(0===e?g:g.insets[e-1]).getSVGTransform(),h=C(a.getStrokeWidth(a.options),1),m=c.scaleX,l=0<c.scaleY?1:-1;if(f.globalAnimation&&d.hasRendered){var k=Number(b.attr("translateX")),r=Number(b.attr("translateY")),u=Number(b.attr("scaleX"));
b.attr({animator:0}).animate({animator:1},{step:function(a,d){a=u+(m-u)*d.pos;b.attr({translateX:k+(c.translateX-k)*d.pos,translateY:r+(c.translateY-r)*d.pos,scaleX:a,scaleY:a*l});b.element.setAttribute("stroke-width",h/a)}})}else b.attr(c),b.element.setAttribute("stroke-width",h/m)}),this.drawMapDataLabels())};b.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,b=a.insets,d=a.projection,e=[];(this.points||[]).forEach(function(a){if(a.path||a.geometry){"string"===
typeof a.path?a.path=u(a.path):h(a.path)&&"M"===a.path[0]&&(a.path=z.prototype.pathToSegments(a.path));if(!a.bounds){var c=a.getProjectedBounds(d);if(c){a.labelrank=C(a.labelrank,(c.x2-c.x1)*(c.y2-c.y1));var g=c.midX,f=c.midY;if(b&&y(g)&&y(f)){var m=A(b,function(a){return a.isInside({x:g,y:f})});m&&(delete a.projectedPath,(c=a.getProjectedBounds(m.projection))&&m.allBounds.push(c),a.insetIndex=b.indexOf(m))}a.bounds=c}}a.bounds&&void 0===a.insetIndex&&e.push(a.bounds)}});this.bounds=w.compositeBounds(e)}return this.bounds};
b.prototype.getStrokeWidth=function(a){var b=this.pointAttrToOptions;return a[b&&b["stroke-width"]||"borderWidth"]};b.prototype.hasData=function(){return!!this.processedXData.length};b.prototype.pointAttribs=function(a,b){var d=a.series.chart,e=d.mapView;d=d.styledMode?this.colorAttribs(a):r.prototype.pointAttribs.call(this,a,b);var c=this.getStrokeWidth(a.options);b&&(b=G(this.options.states[b],a.options.states&&a.options.states[b]||{}),c=this.getStrokeWidth(b));c&&e&&(c/=e.getScale());b=this.getStrokeWidth(this.options);
d.dashstyle&&e&&y(b)&&(c=b/e.getScale());a.visible||(d.fill=this.options.nullColor);B(c)?d["stroke-width"]=c:delete d["stroke-width"];return d};b.prototype.updateData=function(){return this.processedData?!1:a.prototype.updateData.apply(this,arguments)};b.prototype.setData=function(b,d,e,c){void 0===d&&(d=!0);delete this.bounds;a.prototype.setData.call(this,b,!1,void 0,c);this.processData();this.generatePoints();d&&this.chart.redraw(e)};b.prototype.processData=function(){var a=this.options,b=a.data,
d=this.chart.options.chart,e=this.joinBy,c=a.keys||this.pointArrayMap,g=[],m={},k=this.chart.mapView;k=k&&(E(a.mapData,!0)?k.getGeoMap(a.mapData):k.geoMap);var r=this.chart.mapTransforms;(this.chart.mapTransforms=r=d.mapTransforms||k&&k["hc-transform"]||r)&&D(r,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});if(h(a.mapData))var u=a.mapData;else k&&"FeatureCollection"===k.type&&(this.mapTitle=k.title,u=f.geojson(k,this.type,this));var t=this.processedData=
[];b&&b.forEach(function(d,g){var f=0;if(y(d))t[g]={value:d};else if(h(d)){t[g]={};!a.keys&&d.length>c.length&&"string"===typeof d[0]&&(t[g]["hc-key"]=d[0],++f);for(var m=0;m<c.length;++m,++f)c[m]&&"undefined"!==typeof d[f]&&(0<c[m].indexOf(".")?l.prototype.setNestedProperty(t[g],d[f],c[m]):t[g][c[m]]=d[f])}else t[g]=b[g];e&&"_i"===e[0]&&(t[g]._i=g)});if(u){this.mapData=u;this.mapMap={};for(r=0;r<u.length;r++)d=u[r],k=d.properties,d._i=r,e[0]&&k&&k[e[0]]&&(d[e[0]]=k[e[0]]),m[d[e[0]]]=d;this.mapMap=
m;if(e[1]){var q=e[1];t.forEach(function(a){a=F(q,a);m[a]&&g.push(m[a])})}if(a.allAreas){if(e[1]){var n=e[1];t.forEach(function(a){g.push(F(n,a))})}var p="|"+g.map(function(a){return a&&a[e[0]]}).join("|")+"|";u.forEach(function(a){e[0]&&-1!==p.indexOf("|"+a[e[0]]+"|")||t.push(G(a,{value:null}))})}}this.processedXData=Array(t.length)};b.prototype.setOptions=function(a){a=q.prototype.setOptions.call(this,a);var b=a.joinBy;null===b&&(b="_i");b=this.joinBy=v(b);b[1]||(b[1]=b[0]);return a};b.prototype.translate=
function(){var a=this.doFullTranslate(),b=this.chart.mapView,d=b&&b.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!b||b.userOptions.center||y(b.userOptions.zoom)?this.getProjectedBounds():b.fitToBounds(void 0,void 0,!1));if(b){var e=b.getSVGTransform();this.points.forEach(function(c){var h=y(c.insetIndex)&&b.insets[c.insetIndex].getSVGTransform()||e;h&&c.bounds&&y(c.bounds.midX)&&y(c.bounds.midY)&&(c.plotX=c.bounds.midX*
h.scaleX+h.translateX,c.plotY=c.bounds.midY*h.scaleY+h.translateY);a&&(c.shapeType="path",c.shapeArgs={d:l.getProjectedPath(c,d)})})}t(this,"afterTranslate")};b.defaultOptions=G(m.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return y(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},
turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"}}});return b}(m);c(a.prototype,{type:"map",axisTypes:k.seriesMembers.axisTypes,colorAttribs:k.seriesMembers.colorAttribs,colorKey:k.seriesMembers.colorKey,directTouch:!0,drawDataLabels:b,drawGraph:b,drawLegendSymbol:n.drawRectangle,forceDL:!0,getCenter:p.getCenter,getExtremesFromAll:!0,getSymbol:b,isCartesian:!1,parallelArrays:k.seriesMembers.parallelArrays,
pointArrayMap:k.seriesMembers.pointArrayMap,pointClass:l,preserveAspectRatio:!0,searchPoint:b,trackerGroups:k.seriesMembers.trackerGroups,useMapGeometry:!0});k.compose(a);g.registerSeriesType("map",a);"";return a});x(b,"Series/MapLine/MapLineSeries.js",[b["Series/Map/MapSeries.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p){var f=this&&this.__extends||function(){var b=function(c,g){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||
function(b,a){for(var e in a)a.hasOwnProperty(e)&&(b[e]=a[e])};return b(c,g)};return function(c,g){function f(){this.constructor=c}b(c,g);c.prototype=null===g?Object.create(g):(f.prototype=g.prototype,new f)}}(),n=k.series,c=p.extend,l=p.merge;p=function(c){function k(){var b=null!==c&&c.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.points=void 0;return b}f(k,c);k.prototype.pointAttribs=function(c,f){c=b.prototype.pointAttribs.call(this,c,f);c.fill=this.options.fillColor;return c};
k.defaultOptions=l(b.defaultOptions,{lineWidth:1,fillColor:"none"});return k}(b);c(p.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:n.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});k.registerSeriesType("mapline",p);"";return p});x(b,"Series/MapPoint/MapPointPoint.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k){var p=this&&this.__extends||function(){var b=function(c,f){b=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(b,c){b.__proto__=c}||function(b,c){for(var g in c)c.hasOwnProperty(g)&&(b[g]=c[g])};return b(c,f)};return function(c,f){function k(){this.constructor=c}b(c,f);c.prototype=null===f?Object.create(f):(k.prototype=f.prototype,new k)}}(),f=k.isNumber;return function(b){function c(){var c=null!==b&&b.apply(this,arguments)||this;c.options=void 0;c.series=void 0;return c}p(c,b);c.prototype.isValid=function(){return!!(this.options.geometry||f(this.x)&&f(this.y)||f(this.options.lon)&&f(this.options.lat))};
return c}(b.seriesTypes.scatter.prototype.pointClass)});x(b,"Series/MapPoint/MapPointSeries.js",[b["Core/Globals.js"],b["Series/MapPoint/MapPointPoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p,f){var n=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(b,d)};return function(b,d){function c(){this.constructor=
b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}();b=b.noop;var c=p.seriesTypes,l=c.map,w=c.scatter;c=f.extend;var q=f.fireEvent,g=f.isNumber,z=f.merge;f=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.chart=void 0;b.data=void 0;b.options=void 0;b.points=void 0;b.clearBounds=l.prototype.clearBounds;return b}n(b,a);b.prototype.drawDataLabels=function(){a.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};
b.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var d=a.geometry,c=a.lon;a=a.lat;d=d&&"Point"===d.type&&d.coordinates;g(c)&&g(a)&&(d=[c,a]);if(d)return b.lonLatToProjectedUnits({lon:d[0],lat:d[1]})}};b.prototype.translate=function(){var a=this,b=this.chart.mapView;this.processedXData||this.processData();this.generatePoints();this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds());if(b){var c=b.getSVGTransform(),e=b.projection.hasCoordinates;this.points.forEach(function(d){var f=
d.x;f=void 0===f?void 0:f;var k=d.y;k=void 0===k?void 0:k;var h=g(d.insetIndex)&&b.insets[d.insetIndex].getSVGTransform()||c,m=a.projectPoint(d.options)||d.properties&&a.projectPoint(d.properties);if(m)f=m.x,k=m.y;else if(d.bounds&&(f=d.bounds.midX,k=d.bounds.midY,h&&g(f)&&g(k))){d.plotX=f*h.scaleX+h.translateX;d.plotY=k*h.scaleY+h.translateY;var l=!0}g(f)&&g(k)?l||(l=b.projectedUnitsToPixels({x:f,y:k}),d.plotX=l.x,d.plotY=e?l.y:a.chart.plotHeight-l.y):d.y=d.plotX=d.plotY=void 0;d.isInside=a.isPointInside(d);
d.zone=a.zones.length?d.getZone():void 0})}q(this,"afterTranslate")};b.defaultOptions=z(w.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}});return b}(w);c(f.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:k,searchPoint:b,useMapGeometry:!0});p.registerSeriesType("mappoint",f);"";return f});x(b,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,
borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});x(b,"Series/Bubble/BubbleLegendItem.js",[b["Core/Color/Color.js"],
b["Core/FormatUtilities.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k,p,f){var n=b.parse,c=p.noop,l=f.arrayMax,w=f.arrayMin,q=f.isNumber,g=f.merge,z=f.pick,a=f.stableSort;b=function(){function b(a,b){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.fontMetrics=this.chart=void 0;this.setState=c;this.init(a,b)}b.prototype.init=function(a,b){this.options=a;this.visible=!0;this.chart=b.chart;this.legend=b};b.prototype.addToLegend=
function(a){a.splice(this.options.legendIndex,0,this)};b.prototype.drawLegendSymbol=function(b){var d=this.chart,c=z(b.options.itemDistance,20),e=this.legendItem||{},g=this.options,f=g.ranges,k=g.connectorDistance;this.fontMetrics=d.renderer.fontMetrics(g.labels.style.fontSize);f&&f.length&&q(f[0].value)?(a(f,function(a,b){return b.value-a.value}),this.ranges=f,this.setOptions(),this.render(),b=this.getMaxLabelSize(),f=this.ranges[0].radius,d=2*f,k=k-f+b.width,k=0<k?k:0,this.maxLabel=b,this.movementX=
"left"===g.labels.align?k:0,e.labelWidth=d+k+c,e.labelHeight=d+this.fontMetrics.h/2):b.options.bubbleLegend.autoRanges=!0};b.prototype.setOptions=function(){var a=this.ranges,b=this.options,c=this.chart.series[b.seriesIndex],e=this.legend.baseline,f={zIndex:b.zIndex,"stroke-width":b.borderWidth},k={zIndex:b.zIndex,"stroke-width":b.connectorWidth},l={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},h=c.options.marker.fillOpacity,q=this.chart.styledMode;a.forEach(function(d,
m){q||(f.stroke=z(d.borderColor,b.borderColor,c.color),f.fill=z(d.color,b.color,1!==h?n(c.color).setOpacity(h).get("rgba"):c.color),k.stroke=z(d.connectorColor,b.connectorColor,c.color));a[m].radius=this.getRangeRadius(d.value);a[m]=g(a[m],{center:a[0].radius-a[m].radius+e});q||g(!0,a[m],{bubbleAttribs:g(f),connectorAttribs:g(k),labelAttribs:l})},this)};b.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,b.ranges[b.ranges.length-
1].value,b.ranges[0].value,b.minSize,b.maxSize,a)};b.prototype.render=function(){var a=this.legendItem||{},b=this.chart.renderer,c=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});a.symbol=b.g("bubble-legend");a.label=b.g("bubble-legend-item");a.symbol.translateX=0;b=a.symbol.translateY=0;for(var e=this.ranges;b<e.length;b++){var g=e[b];g.value>=c&&this.renderRange(g)}a.symbol.add(a.label);a.label.add(a.group);this.hideOverlappingLabels()};b.prototype.renderRange=
function(a){var b=this.options,d=b.labels,c=this.chart,e=c.series[b.seriesIndex],g=c.renderer,f=this.symbols;c=f.labels;var h=a.center,k=Math.abs(a.radius),l=b.connectorDistance||0,n=d.align,q=b.connectorWidth,p=this.ranges[0].radius||0,C=h-k-b.borderWidth/2+q/2,v=this.fontMetrics;v=v.f/2-(v.h-v.f)/2;var z=g.styledMode;l=this.legend.options.rtl||"left"===n?-l:l;"center"===n&&(l=0,b.connectorDistance=0,a.labelAttribs.align="center");n=C+b.labels.y;var w=p+l+b.labels.x;f.bubbleItems.push(g.circle(p,
h+((C%1?1:.5)-(q%2?0:.5)),k).attr(z?{}:a.bubbleAttribs).addClass((z?"highcharts-color-"+e.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(b.className||"")).add(this.legendItem.symbol));f.connectors.push(g.path(g.crispLine([["M",p,C],["L",p+l,C]],b.connectorWidth)).attr(z?{}:a.connectorAttribs).addClass((z?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendItem.symbol));a=g.text(this.formatLabel(a),w,n+v).attr(z?
{}:a.labelAttribs).css(z?{}:d.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendItem.symbol);c.push(a);a.placed=!0;a.alignAttr={x:w,y:n+v}};b.prototype.getMaxLabelSize=function(){var a,b;this.symbols.labels.forEach(function(d){b=d.getBBox(!0);a=a?b.width>a.width?b:a:b});return a||{}};b.prototype.formatLabel=function(a){var b=this.options,d=b.labels.formatter;b=b.labels.format;var c=this.chart.numberFormatter;return b?k.format(b,a):d?d.call(a):c(a.value,1)};
b.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach(function(a,d){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[d].show():b.connectors[d].hide()}))};b.prototype.getRanges=function(){var a=this.legend.bubbleLegend,b=a.options.ranges,c,e=Number.MAX_VALUE,f=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(c=a.zData.filter(q),c.length&&(e=z(a.options.zMin,
Math.min(e,Math.max(w(c),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),f=z(a.options.zMax,Math.max(f,l(c)))))});var k=e===f?[{value:f}]:[{value:e},{value:(e+f)/2},{value:f,autoRanges:!0}];b.length&&b[0].radius&&k.reverse();k.forEach(function(a,d){b&&b[d]&&(k[d]=g(b[d],a))});return k};b.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,c=a.legend.options,e=c.floating,g=(c="horizontal"===c.layout)?a.legend.lastLineHeight:0,f=a.plotSizeX,k=a.plotSizeY,
h=a.series[this.options.seriesIndex],l=h.getPxExtremes();a=Math.ceil(l.minPxSize);l=Math.ceil(l.maxPxSize);var n=Math.min(k,f);h=h.options.maxSize;if(e||!/%$/.test(h))b=l;else if(h=parseFloat(h),b=(n+g-b.h/2)*h/100/(h/100+1),c&&k-b>=f||!c&&f-b>=k)b=l;return[a,Math.ceil(b)]};b.prototype.updateRanges=function(a,b){var d=this.legend.options.bubbleLegend;d.minSize=a;d.maxSize=b;d.ranges=this.getRanges()};b.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();
1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())};return b}();"";return b});x(b,"Series/Bubble/BubbleLegendComposition.js",[b["Series/Bubble/BubbleLegendDefaults.js"],b["Series/Bubble/BubbleLegendItem.js"],b["Core/Defaults.js"],b["Core/Utilities.js"]],function(b,k,p,f){function n(a,b,d){var f=this.legend,k=0<=c(this),h;if(f&&f.options.enabled&&f.bubbleLegend&&f.options.bubbleLegend.autoRanges&&k){var m=f.bubbleLegend.options;
k=f.bubbleLegend.predictBubbleSizes();f.bubbleLegend.updateRanges(k[0],k[1]);m.placed||(f.group.placed=!1,f.allItems.forEach(function(a){h=a.legendItem||{};h.group&&(h.group.translateY=null)}));f.render();this.getMargins();this.axes.forEach(function(a){a.visible&&a.render();m.placed||(a.setScale(),a.updateNames(),e(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});m.placed=!0;this.getMargins();a.call(this,b,d);f.bubbleLegend.correctSizes();g(f,l(f))}else a.call(this,b,d),f&&f.options.enabled&&f.bubbleLegend&&
(f.render(),g(f,l(f)))}function c(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function l(a){a=a.allItems;var b=[],d=a.length,c,e=0;for(c=0;c<d;c++){var h=a[c].legendItem||{};var g=(a[c+1]||{}).legendItem||{};h.labelHeight&&(a[c].itemHeight=h.labelHeight);if(a[c]===a[d-1]||h.y!==g.y){b.push({height:0});h=b[b.length-1];for(e;e<=c;e++)a[e].itemHeight>h.height&&(h.height=a[e].itemHeight);h.step=c}}return b}function w(a){var b=this.bubbleLegend,
d=this.options,e=d.bubbleLegend,g=c(this.chart);b&&b.ranges&&b.ranges.length&&(e.ranges.length&&(e.autoRanges=!!e.ranges[0].autoRanges),this.destroyItem(b));0<=g&&d.enabled&&e.enabled&&(e.seriesIndex=g,this.bubbleLegend=new k(e,this),this.bubbleLegend.addToLegend(a.allItems))}function q(){var a=this.chart,b=this.visible,d=this.chart.legend;d&&d.bubbleLegend&&(this.visible=!b,this.ignoreSeries=b,a=0<=c(a),d.bubbleLegend.visible!==a&&(d.update({bubbleLegend:{enabled:a}}),d.bubbleLegend.visible=a),this.visible=
b)}function g(a,b){var d=a.options.rtl,c,e,h,g,f=0;a.allItems.forEach(function(a,k){g=a.legendItem||{};if(g.group){c=g.group.translateX||0;e=g.y||0;if((h=a.movementX)||d&&a.ranges)h=d?c-a.options.maxSize/2:c+h,g.group.attr({translateX:h});k>b[f].step&&f++;g.group.attr({translateY:Math.round(e+b[f].height/2)});g.y=e+b[f].height/2}})}var z=p.setOptions,a=f.addEvent,e=f.objectEach,d=f.wrap,u=[];return{compose:function(c,e,g){-1===u.indexOf(c)&&(u.push(c),z({legend:{bubbleLegend:b}}),d(c.prototype,"drawChartBox",
n));-1===u.indexOf(e)&&(u.push(e),a(e,"afterGetAllItems",w));-1===u.indexOf(g)&&(u.push(g),a(g,"legendItemClick",q))}}});x(b,"Series/Bubble/BubblePoint.js",[b["Core/Series/Point.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p){var f=this&&this.__extends||function(){var b=function(c,f){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var g in c)c.hasOwnProperty(g)&&(b[g]=c[g])};return b(c,f)};return function(c,f){function k(){this.constructor=
c}b(c,f);c.prototype=null===f?Object.create(f):(k.prototype=f.prototype,new k)}}();p=p.extend;k=function(k){function c(){var b=null!==k&&k.apply(this,arguments)||this;b.options=void 0;b.series=void 0;return b}f(c,k);c.prototype.haloPath=function(c){return b.prototype.haloPath.call(this,0===c?0:(this.marker?this.marker.radius||0:0)+c)};return c}(k.seriesTypes.scatter.prototype.pointClass);p(k.prototype,{ttBelow:!1});return k});x(b,"Series/Bubble/BubbleSeries.js",[b["Series/Bubble/BubbleLegendComposition.js"],
b["Series/Bubble/BubblePoint.js"],b["Core/Color/Color.js"],b["Core/Globals.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p,f,n,c){function l(){var a=this,b=this.len,d=this.chart,c=this.isXAxis,e=c?"xData":"yData",g=this.min,f=this.max-g,k=0,l=b,n=b/f,q;this.series.forEach(function(b){if(b.bubblePadding&&(b.visible||!d.options.chart.ignoreHiddenSeries)){q=a.allowZoomOutside=!0;var h=b[e];c&&((b.onPoint||b).getRadii(0,0,b),b.onPoint&&(b.radii=b.onPoint.radii));if(0<f)for(var p=
h.length;p--;)if(m(h[p])&&a.dataMin<=h[p]&&h[p]<=a.max){var r=b.radii&&b.radii[p]||0;k=Math.min((h[p]-g)*n-r,k);l=Math.max((h[p]-g)*n+r,l)}}});q&&0<f&&!this.logarithmic&&(l-=b,n*=(b+Math.max(0,k)-Math.min(l,b))/b,[["min","userMin",k],["max","userMax",l]].forEach(function(b){"undefined"===typeof t(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/n)}))}var w=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(b,d)};return function(b,d){function c(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}(),q=p.parse;p=f.noop;var g=n.series,z=n.seriesTypes;f=z.column.prototype;var a=z.scatter;z=c.addEvent;var e=c.arrayMax,d=c.arrayMin,u=c.clamp,r=c.extend,m=c.isNumber,x=c.merge,t=c.pick,F=[];c=function(c){function h(){var a=null!==c&&c.apply(this,arguments)||this;a.data=void 0;a.maxPxSize=void 0;a.minPxSize=
void 0;a.options=void 0;a.points=void 0;a.radii=void 0;a.yData=void 0;a.zData=void 0;return a}w(h,c);h.compose=function(a,d,c,e){b.compose(d,c,e);-1===F.indexOf(a)&&(F.push(a),a.prototype.beforePadding=l)};h.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))},this)};h.prototype.getRadii=
function(){var a=this,b=this.zData,d=this.yData,c=[],e=this.chart.bubbleZExtremes;var h=this.getPxExtremes();var g=h.minPxSize,f=h.maxPxSize;if(!e){var k=Number.MAX_VALUE,l=-Number.MAX_VALUE,m;this.chart.series.forEach(function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=(b.onPoint||b).getZExtremes())&&(k=Math.min(k||b.zMin,b.zMin),l=Math.max(l||b.zMax,b.zMax),m=!0)});m?(e={zMin:k,zMax:l},this.chart.bubbleZExtremes=e):e={zMin:0,zMax:0}}var n=0;for(h=b.length;n<h;n++){var p=
b[n];c.push(this.getRadius(e.zMin,e.zMax,g,f,p,d&&d[n]))}this.radii=c};h.prototype.getRadius=function(a,b,d,c,e,h){var g=this.options,f="width"!==g.sizeBy,k=g.zThreshold,l=b-a,n=.5;if(null===h||null===e)return null;if(m(e)){g.sizeByAbsoluteValue&&(e=Math.abs(e-k),l=Math.max(b-k,Math.abs(a-k)),a=0);if(e<a)return d/2-1;0<l&&(n=(e-a)/l)}f&&0<=n&&(n=Math.sqrt(n));return Math.ceil(d+n*(c-d))/2};h.prototype.hasData=function(){return!!this.processedXData.length};h.prototype.pointAttribs=function(a,b){var d=
this.options.marker.fillOpacity;a=g.prototype.pointAttribs.call(this,a,b);1!==d&&(a.fill=q(a.fill).setOpacity(d).get("rgba"));return a};h.prototype.translate=function(){c.prototype.translate.call(this);this.getRadii();this.translateBubble()};h.prototype.translateBubble=function(){for(var a=this.data,b=this.radii,d=this.getPxExtremes().minPxSize,c=a.length;c--;){var e=a[c],h=b?b[c]:0;m(h)&&h>=d/2?(e.marker=r(e.marker,{radius:h,width:2*h,height:2*h}),e.dlBox={x:e.plotX-h,y:e.plotY-h,width:2*h,height:2*
h}):(e.shapeArgs=e.plotY=e.dlBox=void 0,e.isInside=!1)}};h.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"===typeof b){var d=/%$/.test(b);b=parseInt(b,10)}return d?a*b/100:b},d=b(t(this.options.minSize,8));b=Math.max(b(t(this.options.maxSize,"20%")),d);return{minPxSize:d,maxPxSize:b}};h.prototype.getZExtremes=function(){var a=this.options,b=(this.zData||[]).filter(m);if(b.length){var c=t(a.zMin,u(d(b),!1===a.displayNegative?a.zThreshold||
0:-Number.MAX_VALUE,Number.MAX_VALUE));a=t(a.zMax,e(b));if(m(c)&&m(a))return{zMin:c,zMax:a}}};h.defaultOptions=x(a.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return m(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},
turboThreshold:0,zThreshold:0,zoneAxis:"z"});return h}(a);r(c.prototype,{alignDataLabel:f.alignDataLabel,applyZones:p,bubblePadding:!0,buildKDTree:p,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:k,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});z(c,"updatedData",function(a){delete a.target.chart.bubbleZExtremes});z(c,"remove",function(a){delete a.target.chart.bubbleZExtremes});n.registerSeriesType("bubble",c);"";"";return c});
x(b,"Series/MapBubble/MapBubblePoint.js",[b["Series/Bubble/BubblePoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p){var f=this&&this.__extends||function(){var b=function(c,f){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var g in c)c.hasOwnProperty(g)&&(b[g]=c[g])};return b(c,f)};return function(c,f){function k(){this.constructor=c}b(c,f);c.prototype=null===f?Object.create(f):(k.prototype=f.prototype,new k)}}();
k=k.seriesTypes.map.prototype.pointClass.prototype;p=p.extend;b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}f(c,b);c.prototype.isValid=function(){return"number"===typeof this.z};return c}(b);p(b.prototype,{applyOptions:k.applyOptions,getProjectedBounds:k.getProjectedBounds});return b});x(b,"Series/MapBubble/MapBubbleSeries.js",[b["Series/Bubble/BubbleSeries.js"],b["Series/MapBubble/MapBubblePoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,
k,p,f){var n=this&&this.__extends||function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return b(c,a)};return function(c,a){function e(){this.constructor=c}b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),c=p.seriesTypes,l=c.map.prototype,w=c.mappoint.prototype;c=f.extend;var q=f.merge;f=function(c){function g(){var a=null!==c&&c.apply(this,
arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;a.clearBounds=l.clearBounds;return a}n(g,c);g.prototype.searchPoint=function(a,b){return this.searchKDTree({clientX:a.chartX-this.chart.plotLeft,plotY:a.chartY-this.chart.plotTop},b,a)};g.prototype.translate=function(){w.translate.call(this);this.getRadii();this.translateBubble()};g.defaultOptions=q(b.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}});return g}(b);c(f.prototype,
{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:l.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:k,processData:l.processData,projectPoint:w.projectPoint,setData:l.setData,setOptions:l.setOptions,updateData:l.updateData,useMapGeometry:!0,xyFromShape:!0});p.registerSeriesType("mapbubble",f);"";return f});x(b,"Series/Heatmap/HeatmapPoint.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k){var p=this&&this.__extends||function(){var b=function(c,
g){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(c,g)};return function(c,g){function f(){this.constructor=c}b(c,g);c.prototype=null===g?Object.create(g):(f.prototype=g.prototype,new f)}}(),f=k.clamp,n=k.defined,c=k.extend,l=k.pick;b=function(b){function c(){var c=null!==b&&b.apply(this,arguments)||this;c.options=void 0;c.series=void 0;c.value=void 0;c.x=void 0;c.y=void 0;return c}p(c,b);
c.prototype.applyOptions=function(c,f){c=b.prototype.applyOptions.call(this,c,f);c.formatPrefix=c.isNull||null===c.value?"null":"point";return c};c.prototype.getCellAttributes=function(){var b=this.series,c=b.options,a=(c.colsize||1)/2,e=(c.rowsize||1)/2,d=b.xAxis,k=b.yAxis,p=this.options.marker||b.options.marker;b=b.pointPlacementToXValue();var m=l(this.pointPadding,c.pointPadding,0),q={x1:f(Math.round(d.len-d.translate(this.x-a,!1,!0,!1,!0,-b)),-d.len,2*d.len),x2:f(Math.round(d.len-d.translate(this.x+
a,!1,!0,!1,!0,-b)),-d.len,2*d.len),y1:f(Math.round(k.translate(this.y-e,!1,!0,!1,!0)),-k.len,2*k.len),y2:f(Math.round(k.translate(this.y+e,!1,!0,!1,!0)),-k.len,2*k.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var c=a+"1",d=a+"2",e=Math.abs(q[c]-q[d]),g=p&&p.lineWidth||0,f=Math.abs(q[c]+q[d])/2;b=p&&p[b];n(b)&&b<e&&(b=b/2+g/2,q[c]=f-b,q[d]=f+b);m&&("y"===a&&(c=d,d=a+"1"),q[c]+=m,q[d]-=m)});return q};c.prototype.haloPath=function(b){if(!b)return[];var c=this.shapeArgs;
return["M",c.x-b,c.y-b,"L",c.x-b,c.y+c.height+b,c.x+c.width+b,c.y+c.height+b,c.x+c.width+b,c.y-b,"Z"]};c.prototype.isValid=function(){return Infinity!==this.value&&-Infinity!==this.value};return c}(b.seriesTypes.scatter.prototype.pointClass);c(b.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});return b});x(b,"Series/Heatmap/HeatmapSeries.js",[b["Core/Color/Color.js"],b["Series/ColorMapComposition.js"],b["Series/Heatmap/HeatmapPoint.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Series/SeriesRegistry.js"],
b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],function(b,k,p,f,n,c,l){var w=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),q=n.series,g=n.seriesTypes,x=g.column,a=g.scatter,e=c.prototype.symbols,
d=l.extend,u=l.fireEvent,r=l.isNumber,m=l.merge,A=l.pick;c=function(c){function f(){var a=null!==c&&c.apply(this,arguments)||this;a.colorAxis=void 0;a.data=void 0;a.options=void 0;a.points=void 0;a.valueMax=NaN;a.valueMin=NaN;return a}w(f,c);f.prototype.drawPoints=function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)q.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&
b.graphic.addClass("highcharts-null-point"))})};f.prototype.getExtremes=function(){var a=q.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;r(b)&&(this.valueMin=b);r(a)&&(this.valueMax=a);return q.prototype.getExtremes.call(this)};f.prototype.getValidPoints=function(a,b){return q.prototype.getValidPoints.call(this,a,b,!0)};f.prototype.hasData=function(){return!!this.processedXData.length};f.prototype.init=function(){q.prototype.init.apply(this,arguments);var a=this.options;
a.pointRange=A(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;e.ellipse=e.circle;a.marker&&(a.marker.r=a.borderRadius)};f.prototype.markerAttribs=function(a,b){var c=a.marker||{},d=this.options.marker||{},e=a.shapeArgs||{},f={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var g=d.states[b]||{};var h=c.states&&c.states[b]||{};[["width","x"],["height","y"]].forEach(function(a){f[a[0]]=(h[a[0]]||g[a[0]]||e[a[0]])+(h[a[0]+"Plus"]||g[a[0]+"Plus"]||0);f[a[1]]=e[a[1]]+(e[a[0]]-f[a[0]])/
2})}return b?f:e};f.prototype.pointAttribs=function(a,c){var d=q.prototype.pointAttribs.call(this,a,c),e=this.options||{},f=this.chart.options.plotOptions||{},g=f.series||{},h=f.heatmap||{};f=a&&a.options.borderColor||e.borderColor||h.borderColor||g.borderColor;g=a&&a.options.borderWidth||e.borderWidth||h.borderWidth||g.borderWidth||d["stroke-width"];d.stroke=a&&a.marker&&a.marker.lineColor||e.marker&&e.marker.lineColor||f||this.color;d["stroke-width"]=g;c&&(a=m(e.states[c],e.marker&&e.marker.states[c],
a&&a.options.states&&a.options.states[c]||{}),c=a.brightness,d.fill=a.color||b.parse(d.fill).brighten(c||0).get(),d.stroke=a.lineColor);return d};f.prototype.setClip=function(a){var b=this.chart;q.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)};f.prototype.translate=function(){var a=this.options,b=a.marker&&a.marker.symbol||"rect",c=e[b]?b:"rect",f=-1!==["circle","square"].indexOf(c);
this.generatePoints();this.points.forEach(function(g){var h=g.getCellAttributes(),k={};k.x=Math.min(h.x1,h.x2);k.y=Math.min(h.y1,h.y2);k.width=Math.max(Math.abs(h.x2-h.x1),0);k.height=Math.max(Math.abs(h.y2-h.y1),0);var l=g.hasImage=0===(g.marker&&g.marker.symbol||b||"").indexOf("url");if(f){var n=Math.abs(k.width-k.height);k.x=Math.min(h.x1,h.x2)+(k.width<k.height?0:n/2);k.y=Math.min(h.y1,h.y2)+(k.width<k.height?n/2:0);k.width=k.height=Math.min(k.width,k.height)}n={plotX:(h.x1+h.x2)/2,plotY:(h.y1+
h.y2)/2,clientX:(h.x1+h.x2)/2,shapeType:"path",shapeArgs:m(!0,k,{d:e[c](k.x,k.y,k.width,k.height,{r:a.borderRadius})})};l&&(g.marker={width:k.width,height:k.height});d(g,n)});u(this,"afterTranslate")};f.defaultOptions=m(a.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return r(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",
radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}});return f}(a);d(c.prototype,{axisTypes:k.seriesMembers.axisTypes,colorKey:k.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:k.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:p,trackerGroups:k.seriesMembers.trackerGroups,alignDataLabel:x.prototype.alignDataLabel,
colorAttribs:k.seriesMembers.colorAttribs,drawLegendSymbol:f.drawRectangle,getSymbol:q.prototype.getSymbol});k.compose(c);n.registerSeriesType("heatmap",c);"";"";return c});x(b,"masters/modules/map.src.js",[b["Core/Globals.js"],b["Core/Axis/Color/ColorAxis.js"],b["Series/MapBubble/MapBubbleSeries.js"],b["Core/Chart/MapChart.js"],b["Maps/MapView.js"],b["Maps/Projection.js"]],function(b,k,p,f,n,c){b.ColorAxis=k;b.MapChart=f;b.mapChart=b.Map=f.mapChart;b.MapView=n;b.maps=f.maps;b.Projection=c;k.compose(b.Chart,
b.Fx,b.Legend,b.Series);p.compose(b.Axis,b.Chart,b.Legend,b.Series)})});
//# sourceMappingURL=map.js.map